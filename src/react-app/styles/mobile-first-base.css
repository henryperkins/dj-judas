/* Mobile-First Base Styles
   Purpose: Establish core variables, resets, containers, and utilities.
   Scope: Safe to import globally before component styles.
*/

/* Breakpoints (min-width) */
:root {
  --bp-sm: 480px;   /* Large phones */
  --bp-md: 768px;   /* Tablets */
  --bp-lg: 1024px;  /* Small laptops */
  --bp-xl: 1280px;  /* Desktop */
  --bp-2xl: 1536px; /* Large desktop */

  /* Fluid spacing scale */
  --space-2xs: 0.25rem;
  --space-xs: 0.5rem;
  --space-sm: 0.75rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;

  /* Radius and effects */
  --radius: 0.5rem;
  --shadow-1: 0 1px 2px rgba(0, 0, 0, 0.06), 0 1px 3px rgba(0, 0, 0, 0.1);
  --shadow-2: 0 2px 8px rgba(0, 0, 0, 0.12);

  /* Safe-area support */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);

  /* Containers */
  --container-padding: var(--space-md);
}

/* Resets and mobile-first defaults */
*, *::before, *::after { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; scroll-behavior: smooth; }
body {
  margin: 0;
  min-width: 320px;
  min-height: 100svh;
  font-size: 16px; /* prevents iOS zoom on inputs */
  line-height: 1.6;
  color: hsl(var(--foreground));
  background: hsl(var(--background));
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

img, svg, video, canvas { max-width: 100%; height: auto; display: block; }
iframe { width: 100%; border: 0; }
button, input, select, textarea { font: inherit; }

/* Links */
a { color: var(--link, #FF69B4); text-decoration: none; font-weight: 500; }
a:hover { text-decoration: underline; }

/* Container utility (mobile-first) */
.container { width: 100%; margin-inline: auto; padding-inline: var(--container-padding); }
@media (min-width: 640px)  { .container { max-width: 640px;  } }
@media (min-width: 768px)  { .container { max-width: 768px;  } }
@media (min-width: 1024px) { .container { max-width: 1024px; } }
@media (min-width: 1280px) { .container { max-width: 1280px; } }
@media (min-width: 1536px) { .container { max-width: 1536px; } }

/* Layout utilities */
.stack > * + * { margin-top: var(--stack-gap, var(--space-md)); }
.cluster { display: flex; flex-wrap: wrap; gap: var(--cluster-gap, var(--space-sm)); align-items: center; }
.grid-auto-fit { display: grid; grid-template-columns: repeat(auto-fit, minmax(var(--min, 220px), 1fr)); gap: var(--gap, var(--space-md)); }

/* Visibility utilities */
.mobile-only { display: block; }
.tablet-up { display: none; }
.desktop-only { display: none; }
@media (min-width: var(--bp-md)) { .mobile-only { display: none; } .tablet-up { display: block; } }
@media (min-width: var(--bp-lg)) { .desktop-only { display: block; } }

/* Touch + safe-area helpers */
.touch-target { min-height: 44px; min-width: 44px; }
.p-safe { padding: var(--space-md); padding-top: calc(var(--space-md) + var(--safe-area-inset-top)); padding-right: calc(var(--space-md) + var(--safe-area-inset-right)); padding-bottom: calc(var(--space-md) + var(--safe-area-inset-bottom)); padding-left: calc(var(--space-md) + var(--safe-area-inset-left)); }
.pb-safe { padding-bottom: calc(var(--space-md) + var(--safe-area-inset-bottom)); }
.mb-safe { margin-bottom: var(--safe-area-inset-bottom); }

/* Accessibility helpers */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0 0 0 0); white-space: nowrap; border: 0; }
:where(a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])):focus-visible { outline: 3px solid hsl(var(--ring)); outline-offset: 2px; }

/* Global buttons (shared) */
.btn { padding: 0.5rem 1rem; border-radius: 8px; font-weight: 600; text-decoration: none; display: inline-block; transition: all 0.3s ease; cursor: pointer; border: none; font-size: 0.9rem; }
.btn-primary { background: #000000; color: #ffffff; }
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
.btn-secondary { background: #ffffff; color: #C81E6F; border: 2px solid #C81E6F; }
.btn-secondary:hover { background: #f5f5f5; color: #C81E6F; }

/* Skip link */
.skip-link { position: absolute; top: -40px; left: 0; background: #ffffff !important; color: #C81E6F !important; padding: 8px; text-decoration: none; z-index: 100; border: 2px solid #C81E6F; }
.skip-link:focus { top: 0; background: #C81E6F; color: #ffffff; }

/* Default stack spacing (slightly tighter on phones) */
.stack { --stack-gap: var(--space-sm); }
@media (min-width: var(--bp-md)) { .stack { --stack-gap: var(--space-md); } }

/* Shared section title */
.section-title { text-align: center; font-size: clamp(1.1rem, 2.8vw, 1.6rem); margin-bottom: 1.5rem; color: var(--text-primary, hsl(var(--foreground))); }

/* Lightweight loading styles used by Suspense fallbacks */
.loading-section { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 200px; color: var(--text-muted, #6b7280); }
.spinner { width: 40px; height: 40px; border: 3px solid var(--border, #e0e0e0); border-top-color: var(--ring, #FF69B4); border-radius: 50%; animation: mf-spin 1s linear infinite; margin-bottom: 1rem; }
@keyframes mf-spin { to { transform: rotate(360deg); } }
